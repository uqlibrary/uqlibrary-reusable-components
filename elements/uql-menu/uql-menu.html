<link rel="import" href="../elements.html">

<!--
`<uql-menu>` is a responsive menu component, contains `<uql-mega-menu>` for desktop layout, and `<uql-drawer-panel>` for tablet/mobile layout.

Example:

    <uql-menu></uql-menu>

@demo uql-menu/demo/index.html
-->

<dom-module id="uql-menu">

  <template>
    <style is="custom-style">
      :host {
        /*position: relative;*/
      }

      uql-drawer-panel {
        display: none;
      }

      @media all and (max-width: 1047px) {
        uql-mega-menu {
          display: none;
        }

        uql-drawer-panel {
          display: block;
        }
      }

    </style>

    <iron-ajax auto="{{autoLoad}}" url="{{menuJson}}"
               handle-as="json"
               on-response="_handleResponse"
               on-error="_handleError"
               verbose="{{verbose}}"></iron-ajax>

    <uql-mega-menu id="horizontalMenu" menu="{{menu}}" selected-menu-item-index="{{selectedMenuItemIndex}}" selected-sub-menu-item-index="{{selectedSubMenuItemIndex}}"></uql-mega-menu>
    <uql-drawer-panel id="drawerPanelMenu" menu="{{menu}}" selected-menu-item-index="{{selectedMenuItemIndex}}" selected-sub-menu-item-index="{{selectedSubMenuItemIndex}}"></uql-drawer-panel>
  </template>

  <script src="uql-menu.js"></script>

</dom-module>
